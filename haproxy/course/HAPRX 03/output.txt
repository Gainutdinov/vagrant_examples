Задание:
Правила выполнения:

В данном задании вам предоставляется доступ к машине, на которой предустановлен haproxy и развернуты 4 веб-сервера на портах 8181, 8282, 8383, 8484 Файл конфигурации haproxy находится по пути /etc/haproxy/haproxy.cfg

Вам необходимо настроить haproxy следующим образом:

    В данном задании фронтенд развертывать не нужно.
    Развертывать бэкенд необходимо с помощью команды listen. Например, listen backend1.
    Привязка портов осуществляется с помощью bind.
    Необходимо развернуть 4 бэкенда back_rebrain_1, back_rebrain_2, back_rebrain_3, back_rebrain_4.
    back_rebrain_1 должен удовлетворять следующим условиям:
        прослушивать порт 81
        работать в режиме http
        осуществлять балансировку методом roundrobin
        балансировать нагрузку между двумя веб-серверами с портами 8181
    back_rebrain_2 должен удовлетворять следующим условиям:
        прослушивать порт 82
        работать в режиме http
        осуществлять балансировку методом source
        балансировать нагрузку между двумя веб-серверами с портами 8282
    back_rebrain_3 должен удовлетворять следующим условиям:
        прослушивать порт 83
        работать в режиме tcp
        осуществлять балансировку методом leastconn
        балансировать нагрузку между двумя веб-серверами с портами 8383
    back_rebrain_4 должен удовлетворять следующим условиям:
        прослушивать порт 84
        работать в режиме tcp
        осуществлять балансировку методом first
        балансировать нагрузку между двумя веб-серверами с портами 8484

Внимание, запрещено изменять путь файла конфигурации и модифицировать следующую часть файла конфигурации

Если вы считаете, что правильно выполнили задание, но автопроверка не засчитывает задание, вы можете задать вопрос кураторам, приложив файл конфигурации к вопросу. Наши кураторы оценят выполнение в ручном режиме.

program api command dataplaneapi -f /etc/haproxy/dataplaneapi.hcl no option start-on-reload

```

listen back_rebrain_1
  bind *:81
  mode http
  balance roundrobin
  server server1 127.0.0.1:8181 maxconn 32
  server server2 127.0.0.1:8181 maxconn 32

listen back_rebrain_2
  bind *:82
  mode http
  balance source
  server server1 127.0.0.1:8282 maxconn 32
  server server2 127.0.0.1:8282 maxconn 32

listen back_rebrain_3
  bind *:83
  mode tcp
  option tcplog
  balance leastconn
  server server1 127.0.0.1:8383 maxconn 32
  server server2 127.0.0.1:8383 maxconn 32

listen back_rebrain_4
  bind *:84
  mode tcp
  option tcplog
  balance first
  server server1 127.0.0.1:8484 maxconn 32
  server server2 127.0.0.1:8484 maxconn 32

```
